<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Trivia Bot | The Protocol</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Orbitron:wght@600;700;900&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <style>
        :root {
            --cyan: #00ffff;
            --pink: #ff0096;
            --purple: #bd00ff;
            --dark-bg: #05070a;
            --glass-bg: rgba(12, 16, 25, 0.85);
            --glass-border: rgba(255, 255, 255, 0.12);
            --text-main: #e0e0e0;
            --text-muted: #9494a8;
            --accent-glow: 0 0 15px rgba(0, 255, 255, 0.2);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; scroll-behavior: smooth; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: 'Inter', sans-serif;
            color: var(--text-main);
            background-color: var(--dark-bg);
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* --- VISUAL AMBIANCE --- */
        .cyber-grid {
            position: fixed; top: 0; left: 0; width: 200%; height: 200%;
            background-image: linear-gradient(rgba(189, 0, 255, 0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(189, 0, 255, 0.05) 1px, transparent 1px);
            background-size: 50px 50px;
            transform: perspective(300px) rotateX(60deg) translateY(-100px) translateZ(-200px);
            animation: gridMove 20s linear infinite;
            z-index: -2; pointer-events: none;
        }
        @keyframes gridMove { 0% { transform: perspective(300px) rotateX(60deg) translateY(0) translateZ(-200px); } 100% { transform: perspective(300px) rotateX(60deg) translateY(50px) translateZ(-200px); } }

        #canvas-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; opacity: 1; transition: opacity 1.5s ease; }

        /* --- STARTUP OVERLAY --- */
        #startup-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 9999;
            display: flex; justify-content: center; align-items: center; flex-direction: column;
            transition: opacity 0.8s ease; cursor: pointer; padding: 20px; text-align: center;
        }
        #startup-overlay h1 { font-family: 'Orbitron'; color: var(--cyan); font-size: clamp(1.5rem, 5vw, 2.5rem); animation: pulse 2s infinite; text-shadow: var(--accent-glow); }
        #startup-overlay p { margin-top: 15px; color: var(--text-muted); font-size: 0.9rem; letter-spacing: 2px; text-transform: uppercase; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }

        /* --- NAVIGATION --- */
        nav {
            position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
            z-index: 1000; display: flex; gap: 5px;
            background: rgba(5, 5, 10, 0.9);
            padding: 8px 12px; border-radius: 50px;
            border: 1px solid var(--glass-border);
            backdrop-filter: blur(20px);
            box-shadow: 0 10px 40px rgba(0,0,0,0.6);
            width: max-content; max-width: 95%;
        }
        .nav-btn {
            background: transparent; border: none; color: var(--text-muted);
            padding: 10px 22px; border-radius: 40px;
            font-weight: 500; font-size: 0.85rem; cursor: pointer;
            transition: all 0.3s ease; font-family: 'Inter', sans-serif; white-space: nowrap;
        }
        .nav-btn:hover { color: #fff; background: rgba(255,255,255,0.05); }
        .nav-btn.active { background: var(--text-main); color: #000; font-weight: 700; box-shadow: 0 0 20px rgba(255, 255, 255, 0.4); }
        
        .sound-toggle { display: flex; align-items: center; justify-content: center; width: 44px; padding: 0; border-left: 1px solid var(--glass-border); margin-left: 5px; opacity: 0.7; }
        .sound-toggle.active { color: var(--cyan); text-shadow: 0 0 10px var(--cyan); opacity: 1; }

        /* --- SECTIONS --- */
        .page-section { display: none; min-height: 100vh; padding: 140px 20px 80px; opacity: 0; transform: translateY(20px); transition: opacity 0.6s ease, transform 0.6s ease; }
        .page-section.active { display: block; opacity: 1; transform: translateY(0); }

        /* --- HERO --- */
        #home { display: none; flex-direction: column; justify-content: center; align-items: center; text-align: center; height: 100vh; padding-top: 0; }
        #home.active { display: flex; }
        .hero-title {
            font-family: 'Orbitron'; font-size: clamp(3.5rem, 12vw, 7rem); font-weight: 900; line-height: 1;
            background: linear-gradient(180deg, #ffffff 0%, #a0a0a0 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            text-shadow: 0 0 60px rgba(0, 255, 255, 0.25);
            margin-bottom: 25px; letter-spacing: -3px;
        }
        .hero-subtitle { font-size: clamp(0.9rem, 3vw, 1.2rem); color: var(--cyan); text-transform: uppercase; letter-spacing: 4px; margin-bottom: 50px; opacity: 0.9; text-shadow: 0 0 10px rgba(0, 255, 255, 0.3); }
        
        .cta-group { display: flex; gap: 20px; flex-wrap: wrap; justify-content: center; }
        .btn-primary, .btn-secondary {
            padding: 16px 36px; border-radius: 6px; text-decoration: none; font-weight: 700;
            transition: all 0.25s; display: inline-flex; align-items: center; justify-content: center;
            gap: 12px; cursor: pointer; font-size: 1rem; min-width: 200px; text-transform: uppercase; letter-spacing: 1px;
            font-family: 'Orbitron', sans-serif;
        }
        .btn-primary { background: #5865F2; color: #fff; border: 1px solid rgba(255,255,255,0.2); }
        .btn-primary:hover { background: #4752c4; transform: translateY(-3px); box-shadow: 0 0 30px rgba(88, 101, 242, 0.4); }
        
        .btn-secondary { background: rgba(0,0,0,0.5); color: var(--cyan); border: 1px solid var(--cyan); }
        .btn-secondary:hover { background: rgba(0, 255, 255, 0.1); color: #fff; box-shadow: 0 0 20px rgba(0, 255, 255, 0.2); transform: translateY(-3px); }

        /* --- WIKI (GUIDE) --- */
        .docs-container { max-width: 1200px; margin: 0 auto; }
        .docs-header { text-align: center; margin-bottom: 50px; }
        .docs-header h1 { font-family: 'Orbitron'; font-size: clamp(2rem, 5vw, 3rem); margin-bottom: 15px; text-shadow: var(--accent-glow); }
        
        .search-bar {
            width: 100%; max-width: 700px; margin: 0 auto 60px; display: block;
            padding: 20px 30px; background: rgba(0,0,0,0.6); border: 1px solid var(--glass-border);
            border-radius: 12px; color: #fff; font-family: 'Inter'; font-size: 1.1rem;
            backdrop-filter: blur(10px); transition: border-color 0.3s;
        }
        .search-bar:focus { outline: none; border-color: var(--cyan); box-shadow: var(--accent-glow); }

        .guide-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); gap: 30px; }
        
        /* EXPANDABLE CARDS */
        .guide-card {
            background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 16px;
            padding: 30px; position: relative; overflow: hidden; transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            display: flex; flex-direction: column;
        }
        .guide-card:hover { border-color: var(--cyan); transform: translateY(-5px); box-shadow: 0 15px 50px rgba(0,0,0,0.5); }
        .guide-card.risk:hover { border-color: var(--pink); box-shadow: 0 15px 50px rgba(255, 0, 150, 0.15); }
        .guide-card.raid:hover { border-color: var(--purple); box-shadow: 0 15px 50px rgba(189, 0, 255, 0.15); }
        
        .card-header { display: flex; align-items: flex-start; gap: 20px; margin-bottom: 20px; }
        .guide-icon { font-size: 2rem; background: rgba(255,255,255,0.03); padding: 15px; border-radius: 12px; border: 1px solid var(--glass-border); }
        .guide-title h3 { font-family: 'Orbitron'; font-size: 1.3rem; color: #fff; margin-bottom: 5px; }
        .guide-title p { font-size: 0.9rem; color: var(--text-muted); line-height: 1.5; }
        
        .expand-btn {
            background: rgba(255,255,255,0.03); border: 1px solid var(--glass-border); color: var(--cyan);
            width: 100%; padding: 12px; border-radius: 8px; cursor: pointer;
            font-family: 'JetBrains Mono'; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 1px;
            transition: all 0.2s; margin-top: auto;
        }
        .expand-btn:hover { background: rgba(0, 255, 255, 0.1); border-color: var(--cyan); }
        
        .details-panel {
            max-height: 0; overflow: hidden; transition: max-height 0.5s cubic-bezier(0.25, 1, 0.5, 1), opacity 0.4s ease;
            opacity: 0; border-top: 1px solid transparent; margin-top: 0;
        }
        .guide-card.expanded .details-panel {
            max-height: 800px; /* Allow for expanded content */
            opacity: 1; border-top: 1px solid var(--glass-border); margin-top: 20px; padding-top: 20px;
        }
        .guide-card.expanded .expand-btn { background: var(--cyan); color: #000; font-weight: bold; }

        .code-snippet { background: #000; padding: 6px 10px; border-radius: 4px; font-family: 'JetBrains Mono'; font-size: 0.8rem; color: var(--pink); display: inline-block; border: 1px solid #333; margin: 0 4px 4px 0; }
        .detail-list { list-style: none; }
        .detail-list li { font-size: 0.95rem; color: #ccc; margin-bottom: 12px; display: flex; align-items: flex-start; gap: 12px; line-height: 1.6; }
        .detail-list li::before { content: '>'; color: var(--cyan); font-weight: bold; flex-shrink: 0; }
        .detail-list strong { color: #fff; }

        /* --- LEGAL (FULL RESTORATION) --- */
        .legal-wrapper { max-width: 900px; margin: 0 auto; }
        .legal-card {
            background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 16px;
            padding: 50px; margin-bottom: 30px; backdrop-filter: blur(20px); scroll-margin-top: 120px;
        }
        .legal-card h2 { font-family: 'Orbitron'; font-size: 2rem; margin-bottom: 30px; color: #fff; padding-bottom: 20px; border-bottom: 1px solid var(--glass-border); display: flex; align-items: center; gap: 15px; }
        .legal-card h2::before { content: ''; width: 8px; height: 30px; background: var(--cyan); display: block; border-radius: 4px; }
        
        /* Typography for Legal */
        .legal-card h3 { color: #fff; margin: 35px 0 15px; font-size: 1.2rem; font-family: 'Inter'; font-weight: 600; }
        .legal-card p { color: var(--text-muted); line-height: 1.8; margin-bottom: 20px; font-size: 1rem; }
        .legal-card ul { margin-left: 25px; margin-bottom: 20px; }
        .legal-card li { color: var(--text-muted); line-height: 1.8; margin-bottom: 10px; }
        .legal-card strong { color: #fff; font-weight: 600; }

        footer { text-align: center; padding: 60px 20px; color: rgba(255,255,255,0.3); font-size: 0.9rem; position: relative; z-index: 10; border-top: 1px solid var(--glass-border); background: #000; }
        footer span { color: var(--cyan); }

        @media (max-width: 768px) {
            nav { width: 95%; justify-content: space-between; padding: 8px; }
            .nav-btn { padding: 8px 12px; font-size: 0.75rem; }
            .hero-title { font-size: 13vw; }
            .cta-group { flex-direction: column; width: 100%; }
            .btn-primary, .btn-secondary { width: 100%; }
            .guide-grid { grid-template-columns: 1fr; }
            .legal-card { padding: 25px; }
        }
    </style>
</head>
<body>

    <div class="cyber-grid"></div>
    <div id="canvas-container"></div>

    <div id="startup-overlay" onclick="initializeSystem()">
        <h1>INITIALIZE</h1>
        <p>[ Tap to Connect ]</p>
    </div>

    <nav>
        <button id="nav-home" class="nav-btn active" onclick="handleNavClick('home')">Home</button>
        <button id="nav-guide" class="nav-btn" onclick="handleNavClick('guide')">Database</button>
        <button id="nav-legal" class="nav-btn" onclick="handleNavClick('legal')">Legal</button>
        <button id="sound-btn" class="nav-btn sound-toggle" onclick="toggleSound()">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg>
        </button>
    </nav>

    <section id="home" class="page-section active">
        <h1 class="hero-title">TRIVIA<br>PROTOCOL</h1>
        <div class="hero-subtitle">Economy ‚Ä¢ Factions ‚Ä¢ Boss Raids</div>
        
        <div class="cta-group">
            <a href="https://discord.gg/ZjJMn8KeZs" target="_blank" class="btn-primary">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="#ffffff" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.419-2.1568 2.419zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.419-2.1568 2.419z"/>
                </svg>
                Support Server
            </a>
            <button onclick="handleNavClick('guide')" class="btn-secondary">Access Database</button>
        </div>
    </section>

    <section id="guide" class="page-section">
        <div class="docs-container">
            <div class="docs-header">
                <h1>SYSTEM ARCHIVE</h1>
            </div>
            <input type="text" id="guideSearch" class="search-bar" placeholder="Search protocol (e.g. 'Raid', 'Economy')..." onkeyup="filterGuide()">

            <div class="guide-grid">
                
                <div class="guide-card" data-keywords="trivia core start loop">
                    <div class="card-header">
                        <span class="guide-icon">üß†</span>
                        <div class="guide-title">
                            <h3>Core Protocol</h3>
                            <p>Automated Trivia Logic</p>
                        </div>
                    </div>
                    <button class="expand-btn" onclick="toggleDetails(this)">‚ñº Access Data</button>
                    <div class="details-panel">
                        <div class="code-snippet">/start [channel]</div> <div class="code-snippet">/category [topic]</div>
                        <ul class="detail-list">
                            <li><strong>Timing:</strong> Questions spawn automatically every <strong>20 minutes</strong> unless a Duel or Raid is active.</li>
                            <li><strong>Points:</strong> 100 (Easy), 250 (Medium), 500 (Hard).</li>
                            <li><strong>Streaks:</strong> Correct answers increase streak multiplier. One wrong answer resets it to 0 (unless <em>Backup Drive</em> is owned).</li>
                            <li><strong>Cooldowns:</strong> Users must wait 15 minutes before answering in a different server ("Global Cooldown").</li>
                        </ul>
                    </div>
                </div>

                <div class="guide-card" data-keywords="economy shop items auction">
                    <div class="card-header">
                        <span class="guide-icon">üí≥</span>
                        <div class="guide-title">
                            <h3>Economy & Items</h3>
                            <p>Marketplace Dynamics</p>
                        </div>
                    </div>
                    <button class="expand-btn" onclick="toggleDetails(this)">‚ñº Access Data</button>
                    <div class="details-panel">
                        <div class="code-snippet">/shop</div> <div class="code-snippet">/marketplace</div>
                        <ul class="detail-list">
                            <li><strong>Shield (200 CR):</strong> Automatically blocks 1 instance of credit theft in Risky Duels. Max hold: 4.</li>
                            <li><strong>Decryptor (150 CR):</strong> Removes 2 incorrect answers during Trivia (Hint). Max hold: 10.</li>
                            <li><strong>Backup Drive (500 CR):</strong> Automatically prevents a streak reset on a wrong answer. Max hold: 3.</li>
                            <li><strong>Auctions:</strong> Users can start auctions with <code>/auction_start</code>. Bids extend time if placed in the last 60 seconds (Snipe Protection).</li>
                        </ul>
                    </div>
                </div>

                <div class="guide-card risk" data-keywords="duel pvp risky bet">
                    <div class="card-header">
                        <span class="guide-icon">‚öîÔ∏è</span>
                        <div class="guide-title">
                            <h3>Duel Protocol</h3>
                            <p>PvP & Wagering Systems</p>
                        </div>
                    </div>
                    <button class="expand-btn" onclick="toggleDetails(this)">‚ñº Access Data</button>
                    <div class="details-panel">
                        <div class="code-snippet">/duel [user] [wager] [mode]</div>
                        <ul class="detail-list">
                            <li><strong>Risky Mode:</strong> Requires 50 CR entry fee. Has a <strong>20-hour cooldown</strong>.</li>
                            <li><strong>Theft Mechanic:</strong> If the winner scores 5/5 and the loser scores 0/5 in Risky Mode, the winner steals <strong>30%</strong> of the loser's total credits.</li>
                            <li><strong>Betting:</strong> Spectators can bet credits on the outcome. The total pot is distributed to winners based on odds.</li>
                            <li><strong>Draws:</strong> In case of a tie, all bets are fully refunded.</li>
                        </ul>
                    </div>
                </div>

                <div class="guide-card raid" data-keywords="raid boss hp loot">
                    <div class="card-header">
                        <span class="guide-icon">üëπ</span>
                        <div class="guide-title">
                            <h3>Boss Raids</h3>
                            <p>Global Co-op Events</p>
                        </div>
                    </div>
                    <button class="expand-btn" onclick="toggleDetails(this)">‚ñº Access Data</button>
                    <div class="details-panel">
                        <div class="code-snippet">/raid_start [name] [hp]</div>
                        <ul class="detail-list">
                            <li><strong>Boss Logic:</strong> Replaces normal trivia with rapid-fire questions (every 20s).</li>
                            <li><strong>Damage:</strong> Correct answers deal <strong>500 Damage</strong>. Incorrect answers heal the Boss for <strong>50 HP</strong>.</li>
                            <li><strong>Loot Calculation:</strong> Credits earned = (Damage Dealt / 500) * 100.</li>
                            <li><strong>Killer Bonus:</strong> The user who deals the final blow gets +3000 CR and a guaranteed Rare Item.</li>
                        </ul>
                    </div>
                </div>

                <div class="guide-card" data-keywords="faction team war">
                    <div class="card-header">
                        <span class="guide-icon">üö©</span>
                        <div class="guide-title">
                            <h3>Factions</h3>
                            <p>Weekly Warfare</p>
                        </div>
                    </div>
                    <button class="expand-btn" onclick="toggleDetails(this)">‚ñº Access Data</button>
                    <div class="details-panel">
                        <div class="code-snippet">/faction_create</div> <div class="code-snippet">/faction_join</div>
                        <ul class="detail-list">
                            <li><strong>Creation:</strong> Costs <strong>10,000 CR</strong>. Leader can set requirements (e.g., Level 10+, 1000+ Credits).</li>
                            <li><strong>Trust System:</strong> Faction Icons are auto-approved for "Trusted" users (>50k CR or >500 Correct). Others require Dev approval.</li>
                            <li><strong>Weekly War:</strong> Factions are ranked by total score. At the end of the week, the top faction is crowned.</li>
                            <li><strong>Rewards:</strong> Leader: 5,000 CR + 5 Master Keys. Members: 1,000 CR + 1 Master Key.</li>
                        </ul>
                    </div>
                </div>

                <div class="guide-card" data-keywords="collectables inventory drop">
                    <div class="card-header">
                        <span class="guide-icon">üéí</span>
                        <div class="guide-title">
                            <h3>Collectables</h3>
                            <p>Rarity & Crafting</p>
                        </div>
                    </div>
                    <button class="expand-btn" onclick="toggleDetails(this)">‚ñº Access Data</button>
                    <div class="details-panel">
                        <div class="code-snippet">/inventory</div> <div class="code-snippet">/chest</div>
                        <ul class="detail-list">
                            <li><strong>Flash Drops:</strong> Rare items appear randomly in chat (30% chance per cycle). First click claims.</li>
                            <li><strong>Master Key:</strong> Crafted using <code>/craft</code>. Requires <strong>9 Key Fragments</strong>.</li>
                            <li><strong>Chests:</strong> Opened with a Master Key. Contains either a Powerup (30% chance) or a Collectable (70% chance).</li>
                            <li><strong>Limited Editions:</strong> Some items (e.g., "Literal Leek Gun") have a hard cap (Max: 7) and cannot be minted once sold out.</li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <section id="legal" class="page-section">
        <div class="legal-wrapper">
            
            <div id="tos" class="legal-card">
                <h2>Terms of Service</h2>
                <p><strong>Effective Date:</strong> December 2025</p>

                <h3>1. Agreement to Terms</h3>
                <p>By inviting or interacting with Trivia Bot ("the Service"), you agree to be bound by these Terms. If you do not agree, you must remove the bot from your server and cease use immediately.</p>

                <h3>2. Usage & Conduct</h3>
                <ul>
                    <li><strong>Fair Play:</strong> Users are prohibited from using self-bots, macros, or scripts to automate gameplay. Usage of multiple accounts ("alts") to farm credits or manipulate leaderboards is strictly forbidden.</li>
                    <li><strong>No Exploits:</strong> Intentionally abusing bugs for economic gain will result in an immediate ban and data wipe.</li>
                    <li><strong>Respect:</strong> You may not use the Service to generate harassment, hate speech, or illegal content via custom inputs (e.g., Boss Raid Naming).</li>
                </ul>

                <h3>3. Rights We Reserve</h3>
                <p>To ensure the best experience for all users, we reserve the following rights:</p>
                <ul>
                    <li><strong>Modification:</strong> We may update, change, or discontinue any aspect of the Service (including features and economy balance) at any time without prior notice.</li>
                    <li><strong>Service Termination:</strong> We reserve the right to permanently or temporarily terminate the Service for any reason.</li>
                    <li><strong>AI Disclaimer:</strong> Artificial Intelligence is used to generate some content. We do not guarantee the accuracy, safety, or quality of AI-generated questions.</li>
                </ul>

                <h3>4. Virtual Currency & RMT</h3>
                <p>The "Credits" and items within the Service are virtual game assets with <strong>no real-world monetary value</strong>. Real Money Trading (RMT), including selling credits, items, or accounts for real currency or external value (e.g., Discord Nitro), is strictly prohibited and will result in a permanent ban.</p>

                <h3>5. Availability & Liability</h3>
                <p>The Service is provided "as is" without warranty of any kind. We are not liable for any loss of virtual data resulting from server outages, bugs, database corruptions, or service discontinuation.</p>
            </div>

            <div id="privacy" class="legal-card">
                <h2 style="border-bottom-color: var(--pink);">Privacy Policy</h2>
                <p><strong>Your privacy is important.</strong> This policy outlines exactly what we collect, how we use it, and how you can control your data.</p>

                <h3>1. Information We Collect</h3>
                <p>We collect only the minimum data necessary to provide gameplay features:</p>
                <ul>
                    <li><strong>User IDs:</strong> Your unique Discord ID is stored to link your inventory, credits, and stats to your account.</li>
                    <li><strong>Guild IDs:</strong> We store the Server ID and configured Channel ID to send trivia messages to the correct location.</li>
                    <li><strong>Game Data:</strong> We store your gameplay history, including answer streaks, items owned, and duel records.</li>
                </ul>

                <h3>2. Data Retention & Disposal</h3>
                <p>We believe in data minimization. Your data is handled as follows:</p>
                <ul>
                    <li><strong>Active Storage:</strong> Data is stored in a secure, encrypted cloud database while you use the bot.</li>
                    <li><strong>Seasonal Resets:</strong> To maintain game balance, we perform "Seasonal Resets" periodically. During a reset, all economy data (credits, consumables) is strictly deleted.</li>
                    <li><strong>Backups:</strong> Temporary backups are generated during maintenance. These are automatically deleted from our hosting environment immediately after verification.</li>
                </ul>

                <h3>3. Your Rights (Deletion & Access)</h3>
                <p>You have full control over your data:</p>
                <ul>
                    <li><strong>Request Deletion:</strong> You may request the permanent deletion of all your data (Account Wipe) by opening a support ticket in our official Discord Server.</li>
                    <li><strong>Processing:</strong> Upon request, your User ID will be removed from our database. This action is irreversible.</li>
                </ul>
            </div>

        </div>
    </section>

    <footer>
        <p>&copy; 2025 Trivia Protocol. AI Logic by <span>Llma</span>. All Rights Reserved.</p>
    </footer>

    <script>
        // --- 1. AUDIO ENGINE ---
        class AmbientSystem {
            constructor() { this.ctx = null; this.gainNode = null; }
            init() {
                const AudioContext = window.AudioContext || window.webkitAudioContext;
                this.ctx = new AudioContext();
                this.gainNode = this.ctx.createGain();
                this.gainNode.connect(this.ctx.destination);
                this.gainNode.gain.setValueAtTime(0, this.ctx.currentTime);
                this.createOsc(110, 0.3); this.createOsc(114, 0.3);
            }
            createOsc(freq, vol) {
                const osc = this.ctx.createOscillator();
                const g = this.ctx.createGain();
                osc.type = 'sine'; osc.frequency.setValueAtTime(freq, this.ctx.currentTime);
                g.gain.value = vol; osc.connect(g); g.connect(this.gainNode); osc.start();
            }
            fadeIn() { if(this.ctx) this.gainNode.gain.setTargetAtTime(0.05, this.ctx.currentTime, 2); }
            fadeOut() { if(this.ctx) this.gainNode.gain.setTargetAtTime(0, this.ctx.currentTime, 0.5); }
        }
        const audioSys = new AmbientSystem();
        let soundEnabled = false;

        function initializeSystem() {
            document.getElementById('startup-overlay').style.display = 'none';
            toggleSound();
        }

        function toggleSound() {
            const btn = document.getElementById('sound-btn');
            if(!soundEnabled) {
                if(!audioSys.ctx) audioSys.init();
                audioSys.ctx.resume().then(() => {
                    audioSys.fadeIn();
                    soundEnabled = true;
                    btn.classList.add('active');
                });
            } else {
                audioSys.fadeOut();
                soundEnabled = false;
                btn.classList.remove('active');
            }
        }

        // --- 2. NAVIGATION ---
        function handleNavClick(targetId) {
            const map = { 'home': 'nav-home', 'guide': 'nav-guide', 'legal': 'nav-legal' };
            document.querySelectorAll('.page-section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-btn:not(#sound-btn)').forEach(b => b.classList.remove('active'));

            const section = document.getElementById(targetId);
            const btn = document.getElementById(map[targetId]);
            if(section) section.classList.add('active');
            if(btn) btn.classList.add('active');

            const canvas = document.getElementById('canvas-container');
            if(targetId === 'home') canvas.style.opacity = '1';
            else if(targetId === 'legal') canvas.style.opacity = '0'; 
            else canvas.style.opacity = '0.3';

            window.scrollTo(0,0);
        }

        function toggleDetails(btn) {
            const card = btn.parentElement;
            const wasExpanded = card.classList.contains('expanded');
            document.querySelectorAll('.guide-card').forEach(c => {
                c.classList.remove('expanded');
                c.querySelector('.expand-btn').innerText = '‚ñº Access Data';
            });
            if(!wasExpanded) {
                card.classList.add('expanded');
                btn.innerText = '‚ñ≤ Close Data';
            }
        }

        function filterGuide() {
            const input = document.getElementById('guideSearch').value.toLowerCase();
            document.querySelectorAll('.guide-card').forEach(card => {
                const text = card.innerText.toLowerCase();
                const tags = card.getAttribute('data-keywords');
                card.style.display = (text.includes(input) || tags.includes(input)) ? 'flex' : 'none';
            });
        }

        // --- 3. STARTUP LOGIC ---
        window.addEventListener('load', () => {
            const hash = window.location.hash.substring(1);
            if(hash) {
                document.getElementById('startup-overlay').style.display = 'none';
                if(hash === 'tos' || hash === 'privacy') {
                    handleNavClick('legal');
                    setTimeout(() => {
                        const el = document.getElementById(hash);
                        if(el) el.scrollIntoView({behavior: 'smooth', block: 'start'});
                    }, 100);
                } else if(hash === 'guide') {
                    handleNavClick('guide');
                }
            }
        });

        // --- 4. THREE.JS (CYBER TORUS + ORBITAL) ---
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.getElementById('canvas-container').appendChild(renderer.domElement);

        // Object 1: The Main Torus (Lattice)
        const geometry = new THREE.TorusGeometry(10, 3, 16, 50);
        const material = new THREE.MeshBasicMaterial({ color: 0x00ffff, wireframe: true, transparent: true, opacity: 0.15 });
        const torus = new THREE.Mesh(geometry, material);
        scene.add(torus);

        // Object 2: Orbital Ring (Thin)
        const ringGeo = new THREE.TorusGeometry(16, 0.1, 16, 100);
        const ringMat = new THREE.MeshBasicMaterial({ color: 0xff0096, transparent: true, opacity: 0.5 });
        const ring = new THREE.Mesh(ringGeo, ringMat);
        scene.add(ring);

        // Object 3: Star Field
        const starsGeo = new THREE.BufferGeometry();
        const starsCount = 800;
        const posArray = new Float32Array(starsCount * 3);
        for(let i=0; i<starsCount*3; i++) posArray[i] = (Math.random()-0.5)*100;
        starsGeo.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
        const starsMat = new THREE.PointsMaterial({ size: 0.1, color: 0xffffff, transparent: true, opacity: 0.6 });
        const starMesh = new THREE.Points(starsGeo, starsMat);
        scene.add(starMesh);

        camera.position.z = 30;
        let mouseX = 0, mouseY = 0;
        
        document.addEventListener('mousemove', e => { 
            mouseX = e.clientX/window.innerWidth-0.5; 
            mouseY = e.clientY/window.innerHeight-0.5; 
        });

        function animate() {
            requestAnimationFrame(animate);

            // Rotate Torus
            torus.rotation.x += 0.003;
            torus.rotation.y += 0.005;

            // Rotate Ring (Different Axis)
            ring.rotation.x -= 0.002;
            ring.rotation.z += 0.002;

            // Move Stars (Warp Speed Effect)
            starMesh.rotation.y -= 0.001;

            // Mouse Interaction
            torus.rotation.x += mouseY * 0.02;
            torus.rotation.y += mouseX * 0.02;

            renderer.render(scene, camera);
        }
        animate();

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth/window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>
